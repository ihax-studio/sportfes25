<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2EÁî∞‰∏≠ÂØøÂº•</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Segoe UI', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
        }

        /* ==================== „Çπ„Éó„É©„ÉÉ„Ç∑„É•ÁîªÈù¢ ==================== */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        #splash-screen.fade-out {
            opacity: 0;
            transform: none;
        }

        @keyframes slideUpFadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pingSlow {
            0% {
                transform: scale(1);
                opacity: 0.6;
            }
            50% {
                transform: scale(1.3);
                opacity: 0.3;
            }
            100% {
                transform: scale(1.6);
                opacity: 0;
            }
        }

        .slide-up-fade {
            animation: slideUpFadeIn 1s ease-out forwards;
            opacity: 0;
        }

        .delay-200 {
            animation-delay: 0.2s;
        }

        .delay-600 {
            animation-delay: 0.6s;
        }

        .delay-1200 {
            animation-delay: 1.2s;
        }

        .pulse-ring {
            position: absolute;
            inset: 0;
            border-radius: 9999px;
            border: 2px solid white;
            opacity: 0;
            animation: pingSlow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .pulse-ring:nth-child(2) {
            animation-delay: 1s;
        }

        .pulse-ring:nth-child(3) {
            animation-delay: 2s;
        }

        .main-button {
            transition: all 0.3s ease-out;
        }

        .main-button:hover {
            background-color: white;
            color: black;
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(255, 255, 255, 0.2);
        }

        /* ==================== „É°„Ç§„É≥UI ==================== */
        #main-ui {
            display: none;
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #e8f4f8 0%, #f5f7fa 50%, #fef3f8 100%);
            padding: 20px;
            padding-top: 120px;
            padding-bottom: 140px;
            overflow-x: hidden;
            position: relative;
        }

        #main-ui.active {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Dynamic Island */
        .dynamic-island {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(20px);
            border-radius: 50%;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            width: 12px;
            height: 12px;
            animation: expandIsland 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            cursor: pointer;
            transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .dynamic-island:active {
            transform: translateX(-50%) scale(1.05);
        }

        @keyframes expandIsland {
            0% {
                width: 12px;
                height: 12px;
                border-radius: 50%;
            }
            50% {
                width: 12px;
                height: 12px;
                border-radius: 50%;
            }
            100% {
                width: 420px;
                height: 60px;
                border-radius: 30px;
            }
        }

        @media (max-width: 768px) {
            @keyframes expandIsland {
                0% {
                    width: 12px;
                    height: 12px;
                    border-radius: 50%;
                }
                50% {
                    width: 12px;
                    height: 12px;
                    border-radius: 50%;
                }
                100% {
                    width: 90%;
                    max-width: 380px;
                    height: 60px;
                    border-radius: 30px;
                }
            }
        }

        .island-text {
            color: white;
            font-size: 15px;
            font-weight: 600;
            position: absolute;
            white-space: nowrap;
            text-align: center;
            padding: 0 20px;
            opacity: 0;
            transform: translateY(20px);
        }

        @media (max-width: 768px) {
            .island-text {
                font-size: 13px;
                padding: 0 15px;
            }
        }

        .island-text.visible {
            animation: slideUpText 0.6s ease-out forwards;
        }

        .island-text.slide-out {
            animation: slideOutText 0.4s ease-in forwards;
        }

        .island-text.slide-in {
            animation: slideInText 0.6s ease-out forwards;
        }

        @keyframes slideUpText {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideOutText {
            from {
                opacity: 1;
                transform: translateY(0);
            }
            to {
                opacity: 0;
                transform: translateY(-20px);
            }
        }

        @keyframes slideInText {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ‰∏ãÈÉ®„ÅÆÂêçÂâçË°®Á§∫Ôºà„ÉÄ„Ç§„Éä„Éü„ÉÉ„ÇØ„Å™Ê≥¢Á¥ã„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥‰ªò„ÅçÔºâ */
        .bottom-name {
            position: fixed;
            bottom: 35px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            border-radius: 25px;
            z-index: 15;
            padding: 12px 32px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            opacity: 0;
            animation: slideDownName 1s cubic-bezier(0.4, 0, 0.2, 1) 0.8s forwards;
        }

        @keyframes slideDownName {
            0% {
                opacity: 0;
                transform: translateX(-50%) translateY(-30px);
            }
            100% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        /* „ÉÄ„Ç§„Éä„Éü„ÉÉ„ÇØ„Å™ÁôΩ„ÅÑÊ≥¢Á¥ã„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        .name-ripple {
            position: absolute;
            inset: 0;
            border-radius: 25px;
            border: 3px solid rgba(255, 255, 255, 0.9);
            opacity: 0;
            animation: dynamicRipple 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .name-ripple:nth-child(2) {
            animation-delay: 0.6s;
        }

        .name-ripple:nth-child(3) {
            animation-delay: 1.2s;
        }

        @keyframes dynamicRipple {
            0% {
                transform: scale(1);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.4);
                opacity: 0.4;
            }
            100% {
                transform: scale(1.8);
                opacity: 0;
            }
        }

        .bottom-name-text {
            color: rgba(0, 0, 0, 0.85);
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            white-space: nowrap;
            letter-spacing: 0.3px;
            position: relative;
            z-index: 2;
        }

        @media (max-width: 768px) {
            .bottom-name-text {
                font-size: 14px;
            }
            .bottom-name {
                padding: 10px 24px;
            }
        }

        /* ÂÜÜÂΩ¢„É¨„Ç§„Ç¢„Ç¶„Éà */
        .circle-container {
            position: relative;
            width: 600px;
            height: 600px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .circle-container {
                width: 90vw;
                height: 90vw;
                max-width: 400px;
                max-height: 400px;
            }
        }

        /* ‰∏≠Â§Æ„ÅÆLiquid GlassÂÜÜ */
        .center-glass {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.6);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                inset 0 2px 8px rgba(255, 255, 255, 0.5);
            animation: glassFloat 4s ease-in-out infinite;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes glassFloat {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.05);
            }
        }

        @media (max-width: 768px) {
            .center-glass {
                width: 110px;
                height: 110px;
                padding: 12px;
                gap: 8px;
            }
            .center-glass.shrink {
                width: 95px;
                height: 95px;
            }
        }

        /* Apple WatchÈ¢®„ÅÆÈÄ≤Êçó„É™„É≥„Ç∞ */
        .progress-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-90deg);
            width: 220px;
            height: 220px;
            z-index: 2;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .progress-ring.active {
            opacity: 1;
        }

        .progress-ring.hidden {
            opacity: 0;
            pointer-events: none;
        }

        @media (max-width: 768px) {
            .progress-ring {
                width: 140px;
                height: 140px;
            }
        }

        .progress-ring-circle {
            fill: none;
            stroke: #d74742;
            stroke-width: 6;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ÂõûËª¢„Åô„ÇãÁÇπ„ÄÖÔºàiOSÈ¢®„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥Ôºâ */
        .rotating-dots {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 260px;
            height: 260px;
            transform: translate(-50%, -50%);
            z-index: 3;
            opacity: 0;
            pointer-events: none;
        }

        .rotating-dots.active {
            animation: rotateAppear 0.8s ease-out forwards;
        }

        @keyframes rotateAppear {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        @media (max-width: 768px) {
            .rotating-dots {
                width: 160px;
                height: 160px;
            }
        }

        .rotating-dots svg {
            width: 100%;
            height: 100%;
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        .dot {
            fill: url(#dotGradient);
            opacity: 0.9;
        }

        /* „É™„É≥„Ç∞ÂÆåÊàêÊôÇ„ÅÆ„Éñ„É´„Éº„É†ÂäπÊûú */
        .completion-bloom {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 180px;
            height: 180px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 2;
            opacity: 0;
        }

        @media (max-width: 768px) {
            .completion-bloom {
                width: 160px;
                height: 160px;
            }
        }

        .completion-bloom.active {
            animation: bloomExpand 2s ease-out forwards;
        }

        @keyframes bloomExpand {
            0% {
                opacity: 0;
                box-shadow: 
                    0 0 0 0 rgba(147, 197, 253, 0),
                    0 0 0 0 rgba(191, 219, 254, 0),
                    0 0 0 0 rgba(219, 234, 254, 0);
            }
            10% {
                opacity: 1;
                box-shadow: 
                    0 0 20px 10px rgba(147, 197, 253, 0.8),
                    0 0 40px 20px rgba(191, 219, 254, 0.6),
                    0 0 60px 30px rgba(219, 234, 254, 0.4);
            }
            100% {
                opacity: 0;
                box-shadow: 
                    0 0 100px 80px rgba(147, 197, 253, 0),
                    0 0 150px 120px rgba(191, 219, 254, 0),
                    0 0 200px 160px rgba(219, 234, 254, 0);
            }
        }

        /* „É™„É≥„Ç∞ÂÆåÊàêÊôÇ„ÅÆÂÖâ„ÅÆÊã°Êï£ÂäπÊûú */
        .light-pulse {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 220px;
            height: 220px;
            border-radius: 50%;
            border: 3px solid rgba(96, 165, 250, 0);
            pointer-events: none;
            z-index: 2;
            opacity: 0;
        }

        @media (max-width: 768px) {
            .light-pulse {
                width: 180px;
                height: 180px;
            }
        }

        .light-pulse.active {
            animation: pulseBurst 1.5s ease-out;
        }

        @keyframes pulseBurst {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.9);
                border-color: rgba(96, 165, 250, 0);
                filter: blur(0px);
            }
            15% {
                opacity: 1;
                border-color: rgba(96, 165, 250, 0.9);
                filter: blur(8px);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(2.5);
                border-color: rgba(147, 197, 253, 0);
                filter: blur(30px);
            }
        }

        /* ÈÄ£Á∂öÁöÑ„Å™„Éñ„É´„Éº„É†„Éë„É´„Çπ */
        .bloom-pulse {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 190px;
            height: 190px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 2;
            opacity: 0;
        }

        @media (max-width: 768px) {
            .bloom-pulse {
                width: 170px;
                height: 170px;
            }
        }

        .bloom-pulse.active {
            animation: continuousBloom 2s ease-in-out infinite;
        }

        @keyframes continuousBloom {
            0%, 100% {
                opacity: 0;
                box-shadow: 0 0 0 0 rgba(147, 197, 253, 0);
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                opacity: 0.6;
                box-shadow: 
                    0 0 30px 15px rgba(147, 197, 253, 0.5),
                    0 0 50px 25px rgba(191, 219, 254, 0.3);
                transform: translate(-50%, -50%) scale(1.2);
            }
        }

        /* Â§ñÁ∏Å„Å´ÈÖçÁΩÆ„Åï„Çå„Çã„Ç¢„Ç§„Ç≥„É≥ */
        .ring-icon {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 1);
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.15),
                0 0 0 0 rgba(255, 255, 255, 0.5);
            cursor: grab;
            z-index: 20;
            transition: all 0.3s ease;
            animation: popIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .ring-icon:active {
            cursor: grabbing;
        }

        .ring-icon:hover {
            transform: scale(1.15);
            box-shadow: 
                0 6px 24px rgba(0, 0, 0, 0.2),
                0 0 20px rgba(255, 255, 255, 0.8);
        }

        @media (max-width: 768px) {
            .ring-icon {
                width: 40px;
                height: 40px;
                font-size: 22px;
            }
        }

        /* Â§ñÁ∏Å„Ç¢„Ç§„Ç≥„É≥„ÅÆ„É©„Éô„É´ */
        .ring-label {
            position: absolute;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            font-size: 14px;
            font-weight: 600;
            color: rgba(0, 0, 0, 0.8);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 4px 12px;
            border-radius: 12px;
            white-space: nowrap;
            pointer-events: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            z-index: 9;
        }

        @media (max-width: 768px) {
            .ring-label {
                font-size: 12px;
                padding: 3px 10px;
                top: 48px;
            }
        }

        /* ËÉåÊôØ„Åº„Åã„ÅóÂäπÊûú */
        .background-blur {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(20px);
            z-index: 8;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.6s ease;
        }

        .background-blur.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* Êõ∏„ÅÑ„Å¶ÊèêÊ°à„Éú„Çø„É≥Ôºà2-EÁî∞‰∏≠ÂØøÂº•„Å®Âêå„Åò„Çπ„Çø„Ç§„É´Ôºâ */
        .submit-button {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            border-radius: 25px;
            z-index: 15;
            padding: 12px 32px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
            cursor: pointer;
        }

        .submit-button.visible {
            opacity: 1;
            pointer-events: auto;
            animation: slideUpFadeIn 0.6s ease-out;
        }

        .submit-button:hover {
            background: rgba(255, 255, 255, 0.75);
            transform: translateX(-50%) translateY(-2px);
        }

        .submit-button-text {
            color: rgba(0, 0, 0, 0.85);
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            white-space: nowrap;
            letter-spacing: 0.3px;
        }

        @media (max-width: 768px) {
            .submit-button {
                bottom: 90px;
            }
            .submit-button-text {
                font-size: 14px;
            }
        }

        /* „ÅÇ„Çä„Åå„Å®„ÅÜÁîªÈù¢ */
        #thanks-overlay {
            position: fixed;
            inset: 0;
            z-index: 10000;
            background: #000000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 24px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease, visibility 0.6s ease;
        }

        #thanks-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        #thanks-circle {
            width: 180px;
            height: 180px;
            border: 3px solid rgba(255, 255, 255, 0.9);
            border-radius: 9999px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.35), 0 0 50px rgba(255, 255, 255, 0.15) inset;
            display: grid;
            place-items: center;
            position: relative;
            overflow: visible;
        }

        #thanks-circle.animate {
            animation: circle-pop 0.7s cubic-bezier(0.2, 1, 0.3, 1) both;
        }

        @keyframes circle-pop {
            0% { transform: scale(0.6); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        #thanks-arrow-text {
            font-weight: 400;
            font-size: 72px;
            line-height: 1;
            color: #fff;
            position: relative;
            z-index: 2;
        }

        #thanks-ring {
            position: absolute;
            inset: 0;
            margin: auto;
            width: 180px;
            height: 180px;
            border-radius: 9999px;
            border: 3px solid rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 18px rgba(255, 255, 255, 0.35);
            z-index: 1;
            opacity: 0;
            transform: scale(1);
        }

        #thanks-ring.ring-anim {
            animation: ring-expand 1.2s cubic-bezier(0.2, 1, 0.3, 1) forwards;
        }

        @keyframes ring-expand {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(3); }
        }

        #thanks-text {
            font-size: 32px;
            font-weight: 700;
            color: #fff;
            letter-spacing: 0.02em;
            text-shadow: 0 5px 18px rgba(0, 0, 0, 0.55);
        }

        #thanks-sub {
            font-size: 16px;
            color: #cfcfcf;
        }

        #thanks-dots {
            position: absolute;
            inset: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 10001;
        }

        .dot {
            position: absolute;
            border-radius: 9999px;
            background: #fff;
            opacity: 0;
            animation: dot-pop 1.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes dot-pop {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.3); }
            10% { opacity: 1; }
            100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(1); }
        }

        /* Ë¶ÅÁ¥†„ÅÆÁ∏ÆÂ∞è„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        .shrink-out {
            animation: shrinkOut 0.6s cubic-bezier(0.4, 0, 1, 1) forwards;
        }

        @keyframes shrinkOut {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0.8); }
        }

        /* iOSÈ¢®„Çπ„É©„Ç§„ÉÄ„Éº */
        .slider-wrapper {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 310px;
            height: 64px;
            z-index: 10002;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .slider-wrapper.visible {
            opacity: 1;
            visibility: visible;
            animation: slideUpFadeIn 0.6s ease-out forwards;
        }

        .slider-wrapper.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .slider-track {
            backdrop-filter: blur(2px);
            -webkit-backdrop-filter: blur(2px);
            box-shadow:
                inset 1px -1px 11px rgb(255 255 255 / 12%),
                inset 1px -1px 55px rgb(255 255 255 / 11%),
                1px -1px 1px rgb(243 243 243 / 62%),
                -1px 1px 1px rgb(225 225 225 / 62%),
                0 2px 18px #0000000d;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 64px;
            background: rgb(60 60 60 / 0%);
            border-radius: 36px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            overflow: visible;
        }

        .slider-inner-track {
            position: absolute;
            top: 0;
            left: -5px;
            height: 64px;
            border-radius: 36px;
            z-index: 1;
            transform: scale(0.9);
            transition: width 0.13s;
            pointer-events: none;
        }

        .slider-label {
            position: absolute;
            left: 88px;
            top: 0;
            height: 64px;
            line-height: 64px;
            color: #fff;
            font-size: 17px;
            font-weight: 500;
            letter-spacing: 0.5px;
            z-index: 2;
            opacity: 0.83;
            transition: opacity 0.2s;
            user-select: none;
            pointer-events: none;
            text-shadow: 0 2px 10px #000b;
        }

        .slider-knob {
            position: absolute;
            top: 4px;
            left: 4px;
            width: 56px;
            height: 56px;
            background: #ffffff8c;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 33px;
            font-weight: bold;
            z-index: 10;
            backdrop-filter: blur(2px);
            -webkit-backdrop-filter: blur(2px);
            border: none;
            outline: none;
            box-shadow:
                1px -1px 1px rgb(255 255 255 / 62%),
                -1px 1px 1px rgb(255 255 255 / 62%),
                0 2px 18px #00000015;
            cursor: pointer;
            user-select: none;
            transition:
                background 0.5s cubic-bezier(.62,0,.4,1),
                box-shadow 0.5s cubic-bezier(.62,0,.4,1),
                left 0.5s cubic-bezier(.62,0,.4,1);
        }

        .slider-knob:active {
            background: #ebebeb5c;
            box-shadow:
                1px 1px 1px rgb(255 255 255 / 62%),
                -1px -1px 1px rgb(255 255 255 / 62%);
        }

        .slider-arrow-polyline {
            transition:
                stroke 0.3s cubic-bezier(.62,0,.4,1),
                stroke-width 0.3s cubic-bezier(.62,0,.4,1),
                filter 0.3s cubic-bezier(.62,0,.4,1);
        }

        .slider-knob.active .slider-arrow-polyline {
            stroke: #1552be;
            stroke-width: 3.2;
            filter: drop-shadow(0 0 7px #2579F7);
        }

        .slider-knob:not(.active) .slider-arrow-polyline {
            stroke: #2579F7;
            stroke-width: 2.6;
            filter: none;
        }

        @media (max-width: 768px) {
            .slider-wrapper {
                width: 90%;
                max-width: 310px;
            }
            .slider-label {
                font-size: 15px;
            }
        }

        /* ‰∏≠Â§Æ„ÅÆ„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ÊñáÂ≠ó */
        .center-text {
            position: absolute;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            line-height: 1.4;
            background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 50%, #f472b6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            opacity: 1;
            transition: opacity 0.5s ease;
            pointer-events: none;
            z-index: 5;
        }

        .center-text.hidden {
            opacity: 0;
        }

        @media (max-width: 768px) {
            .center-text {
                font-size: 15px;
            }
        }

        /* ‰∏≠Â§Æ„ÅÆÊï∞Â≠ó„Äå1„Äç */
        .center-number {
            position: absolute;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            font-size: 64px;
            font-weight: 600;
            color: rgba(0, 0, 0, 0.75);
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            z-index: 15;
            text-shadow: 
                0 2px 4px rgba(255, 255, 255, 0.8),
                0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .center-number.visible {
            opacity: 1;
            animation: slideUpFadeIn 0.5s ease-out forwards;
        }

        @media (max-width: 768px) {
            .center-number {
                font-size: 52px;
            }
        }

        /* ‰∏≠Â§Æ„ÅÆ‰∏äÁü¢Âç∞ */
        .center-arrow {
            position: absolute;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            font-size: 48px;
            font-weight: 300;
            color: rgba(0, 0, 0, 0.7);
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            z-index: 99999;
            transform-style: preserve-3d;
            animation: arrow3D 3s ease-in-out infinite;
            text-shadow: 
                0 1px 0 rgba(255, 255, 255, 0.8),
                0 2px 0 rgba(0, 0, 0, 0.2),
                0 3px 0 rgba(0, 0, 0, 0.15),
                0 4px 0 rgba(0, 0, 0, 0.1),
                0 5px 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
        }

        .center-arrow.visible {
            opacity: 1;
            pointer-events: auto;
        }

        @keyframes arrow3D {
            0%, 100% {
                transform: perspective(1000px) rotateX(0deg) translateZ(0px);
                text-shadow: 
                    0 1px 0 rgba(255, 255, 255, 0.8),
                    0 2px 0 rgba(0, 0, 0, 0.2),
                    0 3px 0 rgba(0, 0, 0, 0.15),
                    0 4px 0 rgba(0, 0, 0, 0.1),
                    0 5px 10px rgba(0, 0, 0, 0.2);
            }
            50% {
                transform: perspective(1000px) rotateX(5deg) translateZ(20px);
                text-shadow: 
                    0 2px 0 rgba(255, 255, 255, 0.9),
                    0 4px 0 rgba(0, 0, 0, 0.25),
                    0 6px 0 rgba(0, 0, 0, 0.2),
                    0 8px 0 rgba(0, 0, 0, 0.15),
                    0 10px 20px rgba(0, 0, 0, 0.3);
            }
        }

        @media (max-width: 768px) {
            .center-arrow {
                font-size: 38px;
            }
        }

        /* „ÇÑ„ÇäÁõ¥„Åô„Éú„Çø„É≥ÔºàÊúÄÂâçÂàóÔºâ */
        .reset-button {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, calc(-50% + 180px));
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: 25px;
            z-index: 99998;
            padding: 12px 32px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 1);
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .reset-button.visible {
            opacity: 1;
            pointer-events: auto;
            animation: slideUpFadeIn 0.5s ease-out forwards;
        }

        .reset-button:hover {
            background: rgba(255, 255, 255, 1);
            transform: translate(-50%, calc(-50% + 180px)) scale(1.05);
        }

        .reset-button:active {
            transform: translate(-50%, calc(-50% + 180px)) scale(0.95);
        }

        .reset-button-text {
            color: rgba(0, 0, 0, 0.85);
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            white-space: nowrap;
            letter-spacing: 0.3px;
        }

        @media (max-width: 768px) {
            .reset-button {
                transform: translate(-50%, calc(-50% + 150px));
            }
            .reset-button:hover {
                transform: translate(-50%, calc(-50% + 150px)) scale(1.05);
            }
            .reset-button:active {
                transform: translate(-50%, calc(-50% + 150px)) scale(0.95);
            }
            .reset-button-text {
                font-size: 14px;
            }
        }

        /* ‰∏≠Â§Æ„ÅÆÂÜÜ„Å´ÂÖ•„Å£„Åü„Ç¢„Ç§„Ç≥„É≥ */
        .center-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.7);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            cursor: grab;
            transition: transform 0.2s ease;
            animation: popIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .center-icon:active {
            cursor: grabbing;
        }

        .center-icon:hover {
            transform: scale(1.1);
        }

        @keyframes popIn {
            0% {
                opacity: 0;
                transform: scale(0);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @media (max-width: 768px) {
            .center-icon {
                width: 32px;
                height: 32px;
                font-size: 18px;
            }
        }

        /* „Ç¢„Ç§„Ç≥„É≥„Åå‰∏≠Â§Æ„Å´ÂÖ•„Çã„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        @keyframes spinToCenter {
            0% {
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: translate(-50%, -50%) scale(0.7) rotate(180deg);
                opacity: 0.8;
            }
            100% {
                transform: translate(-50%, -50%) scale(0.3) rotate(360deg);
                opacity: 0;
            }
        }

        /* „Ç¢„Ç§„Ç≥„É≥„Ç´„Éº„Éâ */
        .icon-card {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: grab;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            user-select: none;
            touch-action: none;
            z-index: 5;
        }

        .icon-card.selected {
            opacity: 0.4;
            pointer-events: none;
        }

        .icon-card.dragging {
            z-index: 1000;
            cursor: grabbing;
        }

        .icon-card.near-center {
            transform: translate(-50%, -50%) scale(1.2) !important;
        }

        .icon-card.animating {
            pointer-events: none;
        }

        .icon-card:hover:not(.selected):not(.animating) {
            z-index: 10;
        }

        /* „Ç¢„Ç§„Ç≥„É≥Ë°®Á§∫„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        .icon-card .icon-circle {
            animation: iconScaleUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) backwards;
        }

        .icon-card .icon-title {
            animation: titleSlideUp 0.6s ease-out backwards;
        }

        @keyframes iconScaleUp {
            from {
                opacity: 0;
                transform: scale(0);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes titleSlideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .icon-circle {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.7);
            box-shadow: 
                0 8px 24px rgba(0, 0, 0, 0.12),
                inset 0 2px 6px rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .icon-circle {
                width: 55px;
                height: 55px;
                font-size: 28px;
            }
        }

        .icon-circle::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .icon-card:hover .icon-circle::before {
            opacity: 1;
        }

        .icon-card:hover .icon-circle {
            transform: scale(1.15);
            box-shadow: 
                0 12px 32px rgba(0, 0, 0, 0.2),
                0 0 20px currentColor,
                inset 0 2px 8px rgba(255, 255, 255, 0.6);
        }

        /* „Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ */
        .gradient-1 { color: #60a5fa; }
        .gradient-2 { color: #7dd3fc; }
        .gradient-3 { color: #a78bfa; }
        .gradient-4 { color: #c084fc; }
        .gradient-5 { color: #e879f9; }
        .gradient-6 { color: #f472b6; }
        .gradient-7 { color: #fb7185; }
        .gradient-8 { color: #fca5a5; }
        .gradient-9 { color: #fdba74; }
        .gradient-10 { color: #fcd34d; }
        .gradient-11 { color: #a3e635; }
        .gradient-12 { color: #86efac; }

        .icon-title {
            color: rgba(0, 0, 0, 0.75);
            font-size: 13px;
            font-weight: 500;
            text-align: center;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
            max-width: 80px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        @media (max-width: 768px) {
            .icon-title {
                font-size: 11px;
                max-width: 65px;
            }
        }
    </style>
</head>
<body>
    
    <!-- „Çπ„Éó„É©„ÉÉ„Ç∑„É•ÁîªÈù¢ -->
    <div id="splash-screen">
        <div class="w-full max-w-4xl flex flex-col items-center justify-center" style="height: 100vh;">
            
            <!-- Subtitle -->
            <div class="flex items-center justify-center" style="height: 20vh;">
                <h2 class="text-white text-xl md:text-2xl font-light tracking-wider slide-up-fade delay-200 text-center">
                    Â≠¶Ê†°ÁîüÊ¥ª„ÇíÂ§©ÂõΩ„Å´„ÄÇ
                </h2>
            </div>

            <!-- Main Title -->
            <div class="flex items-center justify-center" style="height: 60vh;">
                <div class="text-center slide-up-fade delay-600">
                    <h1 class="text-7xl md:text-8xl lg:text-9xl font-bold text-white leading-tight">
                        2EÁî∞‰∏≠
                    </h1>
                    <h1 class="text-9xl md:text-8xl lg:text-9xl font-bold text-white leading-tight opacity-70">
                        ÂØøÂº•
                    </h1>
                </div>
            </div>

            <!-- Bottom Button -->
            <div class="flex items-center justify-center" style="height: 20vh;">
                <div class="relative slide-up-fade delay-1200">
                    <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                        <div class="pulse-ring"></div>
                        <div class="pulse-ring"></div>
                        <div class="pulse-ring"></div>
                    </div>
                    
                    <button class="main-button relative px-12 py-5 bg-transparent border-2 border-white rounded-full text-white text-lg md:text-xl font-medium tracking-widest shadow-lg">
                        2E Áî∞‰∏≠ÂØøÂº• 2E
                    </button>
                </div>
            </div>

        </div>
    </div>

    <!-- „É°„Ç§„É≥UI -->
    <div id="main-ui">
        <!-- ËÉåÊôØ„Åº„Åã„ÅóÂäπÊûú -->
        <div class="background-blur" id="backgroundBlur"></div>

        <!-- Dynamic Island -->
        <div class="dynamic-island" id="dynamicIsland">
            <div class="island-text" id="islandText1">‰ªä„ÄÅÂ≠¶Ê†°„ÅßÊÇ©„Çì„Åß„Çã„Ç´„ÉÜ„Ç¥„É™„ÇíÔºíÂÄãÈÅ∏„Åº„ÅÜ</div>
            <div class="island-text" id="islandText2">„ÅÇ„Å®1ÂÄãÔºÅ„Åà„Çâ„Çì„Åß„Åø„Å¶üëÄ</div>
            <div class="island-text" id="islandText3">„ÅÑ„ÅÑ„Å≠ÔºÅ„Åì„Åì„Çí„Çø„ÉÉ„Éó„Åã‰∏∏„Çí„Çπ„ÉØ„Ç§„Éó„Åó„Å¶Áî∞‰∏≠„Å´ÊèêÊ°à„Åó„Çà„ÅÜ</div>
        </div>

        <!-- ‰∏ãÈÉ®„ÅÆÂêçÂâçË°®Á§∫Ôºà„ÉÄ„Ç§„Éä„Éü„ÉÉ„ÇØ„Å™Ê≥¢Á¥ã‰ªò„ÅçÔºâ -->
        <div class="bottom-name" id="bottomName">
            <div class="name-ripple"></div>
            <div class="name-ripple"></div>
            <div class="name-ripple"></div>
            <div class="bottom-name-text" id="bottomNameText">2-E Áî∞‰∏≠ÂØøÂº•</div>
        </div>

        <!-- Êõ∏„ÅÑ„Å¶ÊèêÊ°à„Éú„Çø„É≥ÔºàÊñ∞Ë¶èÔºâ -->
        <div class="submit-button" id="submitButton">
            <div class="submit-button-text">Êõ∏„ÅÑ„Å¶Áî∞‰∏≠„Å´ÊèêÊ°à</div>
        </div>

        <!-- ÂÜÜÂΩ¢„Ç¢„Ç§„Ç≥„É≥„Ç≥„É≥„ÉÜ„Éä -->
        <div class="circle-container">
            <!-- Apple WatchÈ¢®„ÅÆÈÄ≤Êçó„É™„É≥„Ç∞ -->
            <svg class="progress-ring" id="progressRing">
                <circle
                    class="progress-ring-circle"
                    id="progressCircle"
                    cx="110"
                    cy="110"
                    r="107"
                    stroke-dasharray="672"
                    stroke-dashoffset="672"
                />
            </svg>

            <!-- ÂõûËª¢„Åô„ÇãÁÇπ„ÄÖÔºàiOSÈ¢®„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥Ôºâ -->
            <div class="rotating-dots" id="rotatingDots">
                <svg viewBox="0 0 100 100">
                    <defs>
                        <linearGradient id="dotGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FF6B6B;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#FF8E53;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#FFA07A;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <circle class="dot" cx="50" cy="8" r="1.5"/>
                    <circle class="dot" cx="68" cy="12" r="1.5"/>
                    <circle class="dot" cx="82" cy="25" r="1.5"/>
                    <circle class="dot" cx="88" cy="42" r="1.5"/>
                    <circle class="dot" cx="88" cy="58" r="1.5"/>
                    <circle class="dot" cx="82" cy="75" r="1.5"/>
                    <circle class="dot" cx="68" cy="88" r="1.5"/>
                    <circle class="dot" cx="50" cy="92" r="1.5"/>
                    <circle class="dot" cx="32" cy="88" r="1.5"/>
                    <circle class="dot" cx="18" cy="75" r="1.5"/>
                    <circle class="dot" cx="12" cy="58" r="1.5"/>
                    <circle class="dot" cx="12" cy="42" r="1.5"/>
                    <circle class="dot" cx="18" cy="25" r="1.5"/>
                    <circle class="dot" cx="32" cy="12" r="1.5"/>
                </svg>
            </div>

            <!-- „É™„É≥„Ç∞ÂÆåÊàêÊôÇ„ÅÆ„Éñ„É´„Éº„É†ÂäπÊûú -->
            <div class="light-pulse" id="lightPulse1"></div>
            <div class="light-pulse" id="lightPulse2"></div>
            <div class="light-pulse" id="lightPulse3"></div>
            <div class="completion-bloom" id="completionBloom"></div>
            <div class="bloom-pulse" id="bloomPulse"></div>

            <!-- ‰∏≠Â§Æ„ÅÆLiquid GlassÂÜÜ -->
            <div class="center-glass" id="centerGlass">
                <div class="center-text" id="centerText">„Åì„Åì„Å´Ê°à„Çí<br>ÂÖ•„Çå„Çà„ÅÜ„ÄÇ</div>
                <div class="center-number" id="centerNumber">1</div>
                <div class="center-arrow" id="centerArrow">‚Üë</div>
            </div>

            <!-- „ÇÑ„ÇäÁõ¥„Åô„Éú„Çø„É≥ÔºàÊúÄÂâçÂàóÔºâ -->
            <div class="reset-button" id="resetButton">
                <div class="reset-button-text">„ÇÑ„ÇäÁõ¥„Åô</div>
            </div>

            <!-- ÂÜÖÂÅ¥„ÅÆ5ÂÄã„ÅÆ„Ç¢„Ç§„Ç≥„É≥ -->
            <div class="icon-card inner-icon" data-index="0" data-emoji="‚åöÔ∏è" data-title="ÊôÇÈñì" data-color="#60a5fa">
                <div class="icon-circle gradient-1" style="animation-delay: 0.1s;">‚åöÔ∏è</div>
                <div class="icon-title" style="animation-delay: 0.15s;">ÊôÇÈñì</div>
            </div>
            <div class="icon-card inner-icon" data-index="1" data-emoji="ü•§" data-title="Ëá™Ë≤©Ê©ü" data-color="#7dd3fc">
                <div class="icon-circle gradient-2" style="animation-delay: 0.2s;">ü•§</div>
                <div class="icon-title" style="animation-delay: 0.25s;">Ëá™Ë≤©Ê©ü</div>
            </div>
            <div class="icon-card inner-icon" data-index="2" data-emoji="‚öΩÔ∏è" data-title="ÈÅãÂãï" data-color="#a78bfa">
                <div class="icon-circle gradient-3" style="animation-delay: 0.3s;">‚öΩÔ∏è</div>
                <div class="icon-title" style="animation-delay: 0.35s;">ÈÅãÂãï</div>
            </div>
            <div class="icon-card inner-icon" data-index="3" data-emoji="üç±" data-title="Ë≥ºË≤∑" data-color="#c084fc">
                <div class="icon-circle gradient-4" style="animation-delay: 0.4s;">üç±</div>
                <div class="icon-title" style="animation-delay: 0.45s;">Ë≥ºË≤∑</div>
            </div>
            <div class="icon-card inner-icon" data-index="4" data-emoji="üìö" data-title="ÂãâÂº∑" data-color="#e879f9">
                <div class="icon-circle gradient-5" style="animation-delay: 0.5s;">üìö</div>
                <div class="icon-title" style="animation-delay: 0.55s;">ÂãâÂº∑</div>
            </div>

            <!-- Â§ñÂÅ¥„ÅÆ7ÂÄã„ÅÆ„Ç¢„Ç§„Ç≥„É≥ -->
            <div class="icon-card outer-icon" data-index="0" data-emoji="‚úèÔ∏è" data-title="ÈÅÖÂª∂" data-color="#f472b6">
                <div class="icon-circle gradient-6" style="animation-delay: 0.6s;">‚úèÔ∏è</div>
                <div class="icon-title" style="animation-delay: 0.65s;">ÈÅÖÂª∂</div>
            </div>
            <div class="icon-card outer-icon" data-index="1" data-emoji="üìã" data-title="Ê†°Ââá" data-color="#fb7185">
                <div class="icon-circle gradient-7" style="animation-delay: 0.7s;">üìã</div>
                <div class="icon-title" style="animation-delay: 0.75s;">Ê†°Ââá</div>
            </div>
            <div class="icon-card outer-icon" data-index="2" data-emoji="‚òï" data-title="„ÅäÊòº‰ºëÊÜ©" data-color="#fca5a5">
                <div class="icon-circle gradient-8" style="animation-delay: 0.8s;">‚òï</div>
                <div class="icon-title" style="animation-delay: 0.85s;">„ÅäÊòº‰ºëÊÜ©</div>
            </div>
            <div class="icon-card outer-icon" data-index="3" data-emoji="üí™" data-title="‰ΩìÂäõ‰Ωú„Çä" data-color="#fdba74">
                <div class="icon-circle gradient-9" style="animation-delay: 0.9s;">üí™</div>
                <div class="icon-title" style="animation-delay: 0.95s;">‰ΩìÂäõ‰Ωú„Çä</div>
            </div>
            <div class="icon-card outer-icon" data-index="4" data-emoji="üëÄ" data-title="ÊÑèË¶ãÂÖ±Êúâ" data-color="#fcd34d">
                <div class="icon-circle gradient-10" style="animation-delay: 1.0s;">üëÄ</div>
                <div class="icon-title" style="animation-delay: 1.05s;">ÊÑèË¶ãÂÖ±Êúâ</div>
            </div>
            <div class="icon-card outer-icon special-card" data-index="5" data-type="suggestion" data-emoji="üí≠" data-title="Êèè„ÅÑ„Å¶ÊèêÊ°à" data-color="#a3e635">
                <div class="icon-circle gradient-11" style="animation-delay: 1.1s;">üí≠</div>
                <div class="icon-title" style="animation-delay: 1.15s;">Êèè„ÅÑ„Å¶ÊèêÊ°à</div>
            </div>
            <div class="icon-card outer-icon special-card" data-index="6" data-type="other" data-emoji="‚ûï" data-title="„Åù„ÅÆ‰ªñ" data-color="#86efac">
                <div class="icon-circle gradient-12" style="animation-delay: 1.2s;">‚ûï</div>
                <div class="icon-title" style="animation-delay: 1.25s;">„Åù„ÅÆ‰ªñ</div>
            </div>
        </div>
    </div>

    <!-- „ÅÇ„Çä„Åå„Å®„ÅÜÁîªÈù¢ -->
    <div id="thanks-overlay">
        <div id="thanks-circle">
            <div id="thanks-ring"></div>
            <div id="thanks-arrow-text">‚Üë</div>
        </div>
        <div id="thanks-text">„ÅÇ„Çä„Åå„Å®„ÅÜ„ÄÇ</div>
        <div id="thanks-sub">2EÁî∞‰∏≠ÂØøÂº•„Å´ÊèêÊ°à„ÇíÈÄÅ„Çä„Åæ„Åó„Åü</div>
        <div id="thanks-dots"></div>
        
        <!-- iOSÈ¢®„Çπ„É©„Ç§„ÉÄ„Éº -->
        <div class="slider-wrapper" id="sliderWrapper">
            <div class="slider-track">
                <div class="slider-inner-track" id="sliderInner"></div>
                <div class="slider-label" id="sliderLabel">„Çπ„É©„Ç§„Éâ„ÅßÂà•„ÅÆÊÑèË¶ã„ÇíÈÄÅ‰ø°</div>
            </div>
            <div class="slider-knob" id="sliderKnob">
                <svg id="knobSVG" width="32" height="32" viewBox="0 0 32 32">
                    <polyline 
                        class="slider-arrow-polyline"
                        points="12,8 20,16 12,24" 
                        fill="none" 
                        stroke="#2579F7" 
                        stroke-width="2.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                </svg>
            </div>
        </div>
    </div>

    <script>
        const splash = document.getElementById('splash-screen');
        const mainUI = document.getElementById('main-ui');
        
        setTimeout(() => transitionToMain(), 1500);
        splash.addEventListener('click', () => transitionToMain());

        function transitionToMain() {
            splash.classList.add('fade-out');
            setTimeout(() => {
                splash.style.display = 'none';
                mainUI.classList.add('active');
                initializeMainUI();
            }, 600);
        }

        function initializeMainUI() {
            const container = document.querySelector('.circle-container');
            const containerRect = container.getBoundingClientRect();
            const centerX = containerRect.width / 2;
            const centerY = containerRect.height / 2;
            const centerGlass = document.getElementById('centerGlass');
            const centerText = document.getElementById('centerText');
            const centerNumber = document.getElementById('centerNumber');
            const centerArrow = document.getElementById('centerArrow');
            const progressRing = document.getElementById('progressRing');
            const progressCircle = document.getElementById('progressCircle');
            const submitButton = document.getElementById('submitButton');
            
            let selectedCards = [];
            const selectedIcons = new Map();
            const maxSelection = 2;
            let currentIslandText = 1;

            if (window.innerWidth <= 768) {
                progressRing.setAttribute('viewBox', '0 0 140 140');
                progressCircle.setAttribute('cx', '70');
                progressCircle.setAttribute('cy', '70');
                progressCircle.setAttribute('r', '67');
                const circumference = 2 * Math.PI * 67;
                progressCircle.setAttribute('stroke-dasharray', circumference);
                progressCircle.setAttribute('stroke-dashoffset', circumference);
            }

            // „Ç¢„Ç§„Ç≥„É≥ÈÖçÁΩÆ
            const innerIcons = document.querySelectorAll('.inner-icon');
            const innerRadius = window.innerWidth <= 768 ? containerRect.width * 0.25 : 150;
            const innerAngleStep = (Math.PI * 2) / 5;
            const innerStartAngle = -Math.PI / 2;

            innerIcons.forEach((icon, index) => {
                const angle = innerStartAngle + (innerAngleStep * index);
                const x = Math.cos(angle) * innerRadius;
                const y = Math.sin(angle) * innerRadius;
                icon.style.left = `${centerX + x}px`;
                icon.style.top = `${centerY + y}px`;
                icon.style.transform = 'translate(-50%, -50%)';
                icon.dataset.originalX = centerX + x;
                icon.dataset.originalY = centerY + y;
            });

            const outerIcons = document.querySelectorAll('.outer-icon');
            const outerRadius = window.innerWidth <= 768 ? containerRect.width * 0.4 : 240;
            const outerAngleStep = (Math.PI * 2) / 7;
            const outerStartAngle = -Math.PI / 2;

            outerIcons.forEach((icon, index) => {
                const angle = outerStartAngle + (outerAngleStep * index);
                const x = Math.cos(angle) * outerRadius;
                const y = Math.sin(angle) * outerRadius;
                icon.style.left = `${centerX + x}px`;
                icon.style.top = `${centerY + y}px`;
                icon.style.transform = 'translate(-50%, -50%)';
                icon.dataset.originalX = centerX + x;
                icon.dataset.originalY = centerY + y;
            });

            setTimeout(() => document.getElementById('islandText1').classList.add('visible'), 1500);

            const island = document.getElementById('dynamicIsland');
            island.addEventListener('click', function() {
                if (selectedCards.length === 2) handleSuggest();
            });

            function updateIslandText(textNumber) {
                const texts = [
                    document.getElementById('islandText1'),
                    document.getElementById('islandText2'),
                    document.getElementById('islandText3')
                ];
                
                texts.forEach((text, index) => {
                    if (index + 1 === currentIslandText) {
                        text.classList.add('slide-out');
                        text.classList.remove('visible', 'slide-in');
                    }
                });
                
                setTimeout(() => {
                    texts[textNumber - 1].classList.add('slide-in');
                    texts[textNumber - 1].classList.remove('slide-out');
                    currentIslandText = textNumber;
                }, 400);
            }

            function updateProgressRing(percentage) {
                const radius = window.innerWidth <= 768 ? 67 : 107;
                const circumference = 2 * Math.PI * radius;
                const offset = circumference - (percentage / 100) * circumference;
                progressCircle.style.strokeDashoffset = offset;
            }

            function addIconToRing(card) {
                const emoji = card.dataset.emoji;
                const color = card.dataset.color;
                const title = card.dataset.title;
                
                // 0.3Áßí„ÅÆdelay„ÇíË®≠ÂÆö
                setTimeout(() => {
                    // „Ç¢„Ç§„Ç≥„É≥„Çí‰ΩúÊàê
                    const ringIcon = document.createElement('div');
                    ringIcon.className = 'ring-icon';
                    ringIcon.textContent = emoji;
                    ringIcon.style.color = color;
                    ringIcon.dataset.cardId = card.dataset.index + (card.classList.contains('inner-icon') ? 'inner' : 'outer');
                    
                    // „É©„Éô„É´„Çí‰ΩúÊàê
                    const ringLabel = document.createElement('div');
                    ringLabel.className = 'ring-label';
                    ringLabel.textContent = title;
                    ringIcon.appendChild(ringLabel);
                    
                    // Â§ñÁ∏ÅÔºà„É™„É≥„Ç∞„ÅÆ‰∏äÔºâ„Å´ÈÖçÁΩÆ
                    const containerRect = container.getBoundingClientRect();
                    const glassRect = centerGlass.getBoundingClientRect();
                    const centerX = glassRect.left + glassRect.width / 2 - containerRect.left;
                    const centerY = glassRect.top + glassRect.height / 2 - containerRect.top;
                    
                    // „É™„É≥„Ç∞„ÅÆÂçäÂæÑ
                    const ringRadius = window.innerWidth <= 768 ? 90 : 110;
                    
                    // ÈÅ∏Êäû„Åï„Çå„ÅüÊï∞„Å´Âøú„Åò„Å¶ËßíÂ∫¶„ÇíË®àÁÆó
                    let angle;
                    if (selectedCards.length === 1) {
                        angle = -Math.PI / 2; // ‰∏äÔºà12ÊôÇ„ÅÆ‰ΩçÁΩÆÔºâ
                    } else if (selectedCards.length === 2) {
                        angle = Math.PI / 2; // ‰∏ãÔºà6ÊôÇ„ÅÆ‰ΩçÁΩÆÔºâ
                    }
                    
                    const x = centerX + Math.cos(angle) * ringRadius;
                    const y = centerY + Math.sin(angle) * ringRadius;
                    
                    ringIcon.style.left = x + 'px';
                    ringIcon.style.top = y + 'px';
                    ringIcon.style.transform = 'translate(-50%, -50%)';
                    
                    ringIcon.addEventListener('mousedown', (e) => startDragRingIcon(e, ringIcon, card));
                    ringIcon.addEventListener('touchstart', (e) => startDragRingIcon(e, ringIcon, card), { passive: false });
                    
                    container.appendChild(ringIcon);
                    selectedIcons.set(card, ringIcon);
                    
                    // Dynamic Island„Å®Ë°®Á§∫„ÇíÊõ¥Êñ∞
                    setTimeout(() => {
                        if (selectedCards.length === 1) {
                            // ‰∏≠Â§Æ„ÉÜ„Ç≠„Çπ„Éà„ÇíÈùûË°®Á§∫
                            centerText.classList.add('hidden');
                            
                            // „Äå1„Äç„ÇíË°®Á§∫
                            centerNumber.classList.add('visible');
                            
                            updateIslandText(2);
                            progressRing.classList.add('active');
                            updateProgressRing(50);
                        } else if (selectedCards.length === 2) {
                            // „Äå1„Äç„ÇíÈùûË°®Á§∫
                            centerNumber.classList.remove('visible');
                            
                            updateProgressRing(100);
                            setTimeout(() => {
                                // „É™„É≥„Ç∞„ÇíÈö†„Åô
                                progressRing.classList.add('hidden');
                                
                                // ‰∏≠Â§Æ„Å´‚Üë„ÇíË°®Á§∫
                                centerArrow.classList.add('visible');
                                
                                // „ÇÑ„ÇäÁõ¥„Åô„Éú„Çø„É≥„ÇíË°®Á§∫
                                document.getElementById('resetButton').classList.add('visible');
                                
                                // ËÉåÊôØ„Çí„Åº„Åã„Åô
                                document.getElementById('backgroundBlur').classList.add('active');
                                
                                // „Éñ„É´„Éº„É†ÂäπÊûú„ÇíË°®Á§∫
                                const completionBloom = document.getElementById('completionBloom');
                                const bloomPulse = document.getElementById('bloomPulse');
                                const lightPulse1 = document.getElementById('lightPulse1');
                                const lightPulse2 = document.getElementById('lightPulse2');
                                const lightPulse3 = document.getElementById('lightPulse3');
                                
                                completionBloom.classList.add('active');
                                
                                setTimeout(() => lightPulse1.classList.add('active'), 0);
                                setTimeout(() => lightPulse2.classList.add('active'), 200);
                                setTimeout(() => lightPulse3.classList.add('active'), 400);
                                
                                setTimeout(() => {
                                    bloomPulse.classList.add('active');
                                }, 800);
                                
                                // ÊèêÊ°à„Éú„Çø„É≥„ÇíË°®Á§∫
                                submitButton.classList.add('visible');
                                
                                updateIslandText(3);
                            }, 800);
                        }
                    }, 100);
                }, 300);
            }

            function startDragRingIcon(e, ringIcon, originalCard) {
                e.preventDefault();
                e.stopPropagation();
                
                let isDraggingOut = false;
                const touch = e.type === 'touchstart' ? e.touches[0] : e;
                
                const tempIcon = ringIcon.cloneNode(true);
                tempIcon.style.position = 'fixed';
                tempIcon.style.zIndex = '10000';
                tempIcon.style.pointerEvents = 'none';
                tempIcon.style.left = touch.clientX - 25 + 'px';
                tempIcon.style.top = touch.clientY - 25 + 'px';
                document.body.appendChild(tempIcon);
                
                ringIcon.style.opacity = '0.3';
                
                function dragIcon(e) {
                    const touch = e.type === 'touchmove' ? e.touches[0] : e;
                    tempIcon.style.left = touch.clientX - 25 + 'px';
                    tempIcon.style.top = touch.clientY - 25 + 'px';
                    
                    // „É™„É≥„Ç∞„ÅÆÂ§ñÔºà„Ç¨„É©„Çπ„ÅÆ‰∏≠ÂøÉ„Åã„Çâ„ÅÆË∑ùÈõ¢„Åå‰∏ÄÂÆö‰ª•‰∏äÔºâ„Å´„ÅÑ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
                    const glassRect = centerGlass.getBoundingClientRect();
                    const distance = Math.sqrt(
                        Math.pow(touch.clientX - (glassRect.left + glassRect.width / 2), 2) +
                        Math.pow(touch.clientY - (glassRect.top + glassRect.height / 2), 2)
                    );
                    // „É™„É≥„Ç∞„Çà„ÇäÂ§ñÂÅ¥Ôºà150px‰ª•‰∏äÔºâ„Å™„ÇâÈÅ∏ÊäûËß£Èô§ÂÄôË£ú
                    isDraggingOut = distance > 150;
                }
                
                function endDragIcon() {
                    tempIcon.remove();
                    
                    if (isDraggingOut) {
                        // 0.3Áßí„ÅÆdelay„ÅßÂèñ„ÇäÊ∂à„Åó
                        setTimeout(() => {
                            removeSelection(originalCard);
                        }, 300);
                    } else {
                        ringIcon.style.opacity = '1';
                    }
                    
                    document.removeEventListener('mousemove', dragIcon);
                    document.removeEventListener('touchmove', dragIcon);
                    document.removeEventListener('mouseup', endDragIcon);
                    document.removeEventListener('touchend', endDragIcon);
                }
                
                document.addEventListener('mousemove', dragIcon);
                document.addEventListener('touchmove', dragIcon, { passive: false });
                document.addEventListener('mouseup', endDragIcon);
                document.addEventListener('touchend', endDragIcon);
            }

            function removeSelection(card) {
                if (!selectedCards.includes(card)) return;
                
                selectedCards = selectedCards.filter(c => c !== card);
                
                const ringIcon = selectedIcons.get(card);
                if (ringIcon) {
                    ringIcon.style.animation = 'popIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) reverse';
                    setTimeout(() => ringIcon.remove(), 300);
                    selectedIcons.delete(card);
                }
                
                card.classList.remove('selected');
                
                if (selectedCards.length === 0) {
                    // ‰∏≠Â§Æ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÜçË°®Á§∫
                    centerText.classList.remove('hidden');
                    
                    // „Äå1„Äç„ÇíÈùûË°®Á§∫
                    centerNumber.classList.remove('visible');
                    
                    updateIslandText(1);
                    progressRing.classList.remove('active');
                    
                    // Áü¢Âç∞„ÇíÈùûË°®Á§∫
                    centerArrow.classList.remove('visible');
                    
                    // ËÉåÊôØ„Åº„Åã„Åó„ÇíËß£Èô§
                    document.getElementById('backgroundBlur').classList.remove('active');
                    
                    // ÊèêÊ°à„Éú„Çø„É≥„ÇíÈùûË°®Á§∫
                    submitButton.classList.remove('visible');
                    
                    // „Éñ„É´„Éº„É†ÂäπÊûú„Çí„É™„Çª„ÉÉ„Éà
                    document.getElementById('completionBloom').classList.remove('active');
                    document.getElementById('bloomPulse').classList.remove('active');
                    document.getElementById('lightPulse1').classList.remove('active');
                    document.getElementById('lightPulse2').classList.remove('active');
                    document.getElementById('lightPulse3').classList.remove('active');
                } else if (selectedCards.length === 1) {
                    // „Äå1„Äç„ÇíË°®Á§∫
                    centerNumber.classList.add('visible');
                    
                    updateIslandText(2);
                    updateProgressRing(50);
                    
                    // Áü¢Âç∞„ÇíÈùûË°®Á§∫
                    centerArrow.classList.remove('visible');
                    
                    // „ÇÑ„ÇäÁõ¥„Åô„Éú„Çø„É≥„ÇíÈùûË°®Á§∫
                    document.getElementById('resetButton').classList.remove('visible');
                    
                    // ËÉåÊôØ„Åº„Åã„Åó„ÇíËß£Èô§
                    document.getElementById('backgroundBlur').classList.remove('active');
                    
                    // ÊèêÊ°à„Éú„Çø„É≥„ÇíÈùûË°®Á§∫
                    submitButton.classList.remove('visible');
                    
                    // „Éñ„É´„Éº„É†ÂäπÊûú„Çí„É™„Çª„ÉÉ„Éà
                    document.getElementById('completionBloom').classList.remove('active');
                    document.getElementById('bloomPulse').classList.remove('active');
                    document.getElementById('lightPulse1').classList.remove('active');
                    document.getElementById('lightPulse2').classList.remove('active');
                    document.getElementById('lightPulse3').classList.remove('active');
                    
                    progressRing.classList.remove('hidden');
                    
                    // ÊÆã„Å£„Åü„Ç¢„Ç§„Ç≥„É≥„Çí‰∏äÔºà12ÊôÇ„ÅÆ‰ΩçÁΩÆÔºâ„Å´ÂÜçÈÖçÁΩÆ
                    const remainingCard = selectedCards[0];
                    const remainingIcon = selectedIcons.get(remainingCard);
                    if (remainingIcon) {
                        const containerRect = container.getBoundingClientRect();
                        const glassRect = centerGlass.getBoundingClientRect();
                        const centerX = glassRect.left + glassRect.width / 2 - containerRect.left;
                        const centerY = glassRect.top + glassRect.height / 2 - containerRect.top;
                        const ringRadius = window.innerWidth <= 768 ? 90 : 110;
                        const angle = -Math.PI / 2; // ‰∏ä
                        const x = centerX + Math.cos(angle) * ringRadius;
                        const y = centerY + Math.sin(angle) * ringRadius;
                        
                        remainingIcon.style.transition = 'all 0.3s ease';
                        remainingIcon.style.left = x + 'px';
                        remainingIcon.style.top = y + 'px';
                    }
                }
            }

            window.handleSuggest = function() {
                // Ë¶ÅÁ¥†„ÇíÁ∏ÆÂ∞è„Åó„Å¶Ê∂à„Åô
                document.getElementById('dynamicIsland').classList.add('shrink-out');
                document.getElementById('bottomName').classList.add('shrink-out');
                document.getElementById('submitButton').classList.add('shrink-out');
                document.getElementById('resetButton').classList.add('shrink-out');
                centerArrow.classList.add('shrink-out');
                
                // Â§ñÁ∏Å„Ç¢„Ç§„Ç≥„É≥„ÇíÁ∏ÆÂ∞è
                selectedIcons.forEach(icon => {
                    icon.classList.add('shrink-out');
                });
                
                // 0.6ÁßíÂæå„Å´„ÅÇ„Çä„Åå„Å®„ÅÜÁîªÈù¢„ÇíË°®Á§∫
                setTimeout(() => {
                    const thanksOverlay = document.getElementById('thanks-overlay');
                    thanksOverlay.classList.add('active');
                    
                    // ÂÜÜ„Å®„É™„É≥„Ç∞„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
                    const thanksCircle = document.getElementById('thanks-circle');
                    const thanksRing = document.getElementById('thanks-ring');
                    thanksCircle.classList.add('animate');
                    
                    // dot„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇíÂÆüË°å
                    spawnThanksDots(250);
                    
                    // „É™„É≥„Ç∞„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
                    setTimeout(() => {
                        thanksRing.classList.add('ring-anim');
                    }, 700);
                    
                    // „Çπ„É©„Ç§„ÉÄ„Éº„ÇíË°®Á§∫Ôºà2ÁßíÂæåÔºâ
                    setTimeout(() => {
                        document.getElementById('sliderWrapper').classList.add('visible');
                    }, 2000);
                }, 600);
            };

            // dot„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Èñ¢Êï∞
            function spawnThanksDots(n = 200) {
                const thanksDots = document.getElementById('thanks-dots');
                if (!thanksDots) return;
                
                const W = window.innerWidth;
                const H = window.innerHeight;
                thanksDots.innerHTML = '';

                for (let i = 0; i < n; i++) {
                    const dot = document.createElement('div');
                    dot.className = 'dot';

                    const size = Math.random() < 0.8 
                        ? (Math.random() * 3 + 2) 
                        : (Math.random() * 6 + 4);

                    const centerX = W / 2;
                    const centerY = H / 2;
                    const startX = centerX + (Math.random() * 160 - 80);
                    const startY = centerY + (Math.random() * 160 - 80);

                    const angle = Math.random() * Math.PI * 2;
                    const distance = 120 + Math.random() * Math.max(W, H) * 0.6;
                    const endX = Math.cos(angle) * distance;
                    const endY = Math.sin(angle) * distance;

                    dot.style.width = `${size}px`;
                    dot.style.height = `${size}px`;
                    dot.style.left = `${startX}px`;
                    dot.style.top = `${startY}px`;
                    dot.style.setProperty('--tx', `${endX}px`);
                    dot.style.setProperty('--ty', `${endY}px`);
                    dot.style.animationDelay = `${Math.random() * 0.25}s`;
                    
                    thanksDots.appendChild(dot);
                }
            }

            // ÊèêÊ°à„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
            submitButton.addEventListener('click', handleSuggest);
            
            // ‚Üë„Éú„Çø„É≥„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà
            centerArrow.addEventListener('click', function() {
                if (selectedCards.length === 2) {
                    handleSuggest();
                }
            });
            
            // Dynamic Island„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„ÉàÔºà2ÂÄãÈÅ∏ÊäûÊôÇ„ÅÆ„ÅøÔºâ
            island.addEventListener('click', function() {
                if (selectedCards.length === 2) {
                    handleSuggest();
                }
            });

            // „ÇÑ„ÇäÁõ¥„Åô„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
            const resetButton = document.getElementById('resetButton');
            resetButton.addEventListener('click', function() {
                // „Åô„Åπ„Å¶„ÅÆÈÅ∏Êäû„ÇíËß£Èô§
                const cardsToRemove = [...selectedCards];
                cardsToRemove.forEach(card => {
                    const ringIcon = selectedIcons.get(card);
                    if (ringIcon) {
                        ringIcon.style.animation = 'popIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) reverse';
                        setTimeout(() => ringIcon.remove(), 300);
                        selectedIcons.delete(card);
                    }
                    card.classList.remove('selected');
                });
                
                selectedCards = [];
                
                // ‰∏≠Â§Æ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÜçË°®Á§∫
                centerText.classList.remove('hidden');
                
                // „Äå1„Äç„ÇíÈùûË°®Á§∫
                centerNumber.classList.remove('visible');
                
                updateIslandText(1);
                progressRing.classList.remove('active');
                
                // Áü¢Âç∞„ÇíÈùûË°®Á§∫
                centerArrow.classList.remove('visible');
                
                // „ÇÑ„ÇäÁõ¥„Åô„Éú„Çø„É≥„ÇíÈùûË°®Á§∫
                resetButton.classList.remove('visible');
                
                // ËÉåÊôØ„Åº„Åã„Åó„ÇíËß£Èô§
                document.getElementById('backgroundBlur').classList.remove('active');
                
                // ÊèêÊ°à„Éú„Çø„É≥„ÇíÈùûË°®Á§∫
                submitButton.classList.remove('visible');
                
                // „Éñ„É´„Éº„É†ÂäπÊûú„Çí„É™„Çª„ÉÉ„Éà
                document.getElementById('completionBloom').classList.remove('active');
                document.getElementById('bloomPulse').classList.remove('active');
                document.getElementById('lightPulse1').classList.remove('active');
                document.getElementById('lightPulse2').classList.remove('active');
                document.getElementById('lightPulse3').classList.remove('active');
            });

            // „Çπ„É©„Ç§„ÉÄ„Éº„ÅÆÂàùÊúüÂåñ
            function initSlider() {
                const sliderWrapper = document.getElementById('sliderWrapper');
                const sliderKnob = document.getElementById('sliderKnob');
                const sliderInner = document.getElementById('sliderInner');
                const sliderLabel = document.getElementById('sliderLabel');
                
                let isDragging = false;
                let startX = 0;
                let knobX = 0;
                let maxOffset = 310 - 56 - 8;
                
                function updateSizes() {
                    const knobWidth = sliderKnob.offsetWidth;
                    const wrapperWidth = sliderWrapper.offsetWidth;
                    maxOffset = wrapperWidth - knobWidth - 8;
                }
                
                function setKnobPos(x) {
                    sliderKnob.style.left = `${x}px`;
                    sliderInner.style.width = `${72 + x}px`;
                    sliderLabel.style.opacity = `${1 - x / maxOffset}`;
                }
                
                function knobActive(val) {
                    if (val) sliderKnob.classList.add('active');
                    else sliderKnob.classList.remove('active');
                }
                
                sliderKnob.addEventListener('mousedown', e => {
                    updateSizes();
                    isDragging = true;
                    startX = e.clientX;
                    knobX = parseFloat(sliderKnob.style.left) || 4;
                    sliderKnob.style.transition = 'none';
                    sliderInner.style.transition = 'none';
                    knobActive(true);
                });
                
                sliderKnob.addEventListener('touchstart', e => {
                    updateSizes();
                    isDragging = true;
                    startX = e.touches[0].clientX;
                    knobX = parseFloat(sliderKnob.style.left) || 4;
                    sliderKnob.style.transition = 'none';
                    sliderInner.style.transition = 'none';
                    knobActive(true);
                }, { passive: true });
                
                window.addEventListener('mousemove', e => {
                    if (!isDragging) return;
                    let dx = e.clientX - startX;
                    knobX = Math.max(4, Math.min(4 + dx, maxOffset));
                    setKnobPos(knobX);
                });
                
                window.addEventListener('touchmove', e => {
                    if (!isDragging) return;
                    let dx = e.touches[0].clientX - startX;
                    knobX = Math.max(4, Math.min(4 + dx, maxOffset));
                    setKnobPos(knobX);
                }, { passive: true });
                
                function endDrag() {
                    if (!isDragging) return;
                    isDragging = false;
                    knobActive(false);
                    
                    if (knobX >= maxOffset * 0.9) {
                        // „Çπ„É©„Ç§„ÉâÂÆå‰∫Ü - „Éö„Éº„Ç∏„Çí„É™„É≠„Éº„Éâ
                        sliderWrapper.classList.add('fade-out');
                        setTimeout(() => {
                            window.location.reload();
                        }, 500);
                    } else {
                        // „Çπ„É©„Ç§„ÉâÂ§±Êïó - ÂÖÉ„Å´Êàª„Åô
                        sliderKnob.style.transition = 'left 0.5s cubic-bezier(.62,0,.4,1)';
                        sliderKnob.style.left = '4px';
                        sliderInner.style.transition = 'width 0.13s';
                        sliderInner.style.width = '72px';
                        sliderLabel.style.transition = 'opacity 0.2s';
                        sliderLabel.style.opacity = '1';
                    }
                }
                
                window.addEventListener('mouseup', endDrag);
                window.addEventListener('touchend', endDrag);
            }

            // „Çπ„É©„Ç§„ÉÄ„Éº„ÇíÂàùÊúüÂåñ
            initSlider();
            
            function handleSelection(card) {
                if (selectedCards.includes(card)) return;
                if (selectedCards.length >= maxSelection) return;

                selectedCards.push(card);
                card.classList.add('selected');
                card.classList.add('animating');
                
                // ‰∏≠Â§Æ„Å´ÁßªÂãï„Åô„Çã„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÔºàÂõûËª¢„Å™„ÅóÔºâ
                const glassRect = centerGlass.getBoundingClientRect();
                const cardRect = card.getBoundingClientRect();
                
                const endX = glassRect.left + glassRect.width / 2;
                const endY = glassRect.top + glassRect.height / 2;
                
                card.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                card.style.left = (endX - containerRect.left) + 'px';
                card.style.top = (endY - containerRect.top) + 'px';
                card.style.opacity = '0';
                
                addIconToRing(card);
                
                setTimeout(() => {
                    card.style.left = card.dataset.originalX + 'px';
                    card.style.top = card.dataset.originalY + 'px';
                    card.style.opacity = '1';
                    card.style.transition = '';
                    card.classList.remove('animating');
                }, 600);
            }

            window.handleSuggest = function() {
                const selectedTitles = selectedCards.map(card => card.dataset.title);
                alert(`2EÁî∞‰∏≠„Å´ÊèêÊ°à„ÇíÈÄÅ‰ø°„Åó„Åæ„Åó„ÅüÔºÅ‚ú®\nÈÅ∏Êäû„Åó„Åü„Ç´„ÉÜ„Ç¥„É™Ôºö${selectedTitles.join('„ÄÅ')}`);
            };

            function checkNearCenter(card) {
                const cardRect = card.getBoundingClientRect();
                const glassRect = centerGlass.getBoundingClientRect();
                
                const cardCenterX = cardRect.left + cardRect.width / 2;
                const cardCenterY = cardRect.top + cardRect.height / 2;
                const glassCenterX = glassRect.left + glassRect.width / 2;
                const glassCenterY = glassRect.top + glassRect.height / 2;
                
                const distance = Math.sqrt(
                    Math.pow(cardCenterX - glassCenterX, 2) + 
                    Math.pow(cardCenterY - glassCenterY, 2)
                );
                
                return distance < glassRect.width / 2 + 30;
            }

            let isDragging = false;
            let justTapped = false;
            let currentCard = null;
            let startX, startY;

            document.querySelectorAll('.icon-card').forEach(card => {
                card.addEventListener('mousedown', startDrag);
                card.addEventListener('touchstart', startDrag, { passive: false });

                card.addEventListener('click', function(e) {
                    if (justTapped || isDragging) return;
                    if (this.classList.contains('selected')) return;
                    
                    justTapped = true;
                    setTimeout(() => { justTapped = false; }, 300);
                    
                    handleSelection(this);
                });
            });

            function startDrag(e) {
                if (this.classList.contains('selected')) return;
                
                e.preventDefault();
                isDragging = false;
                currentCard = this;
                
                const touch = e.type === 'touchstart' ? e.touches[0] : e;
                startX = touch.clientX;
                startY = touch.clientY;

                document.addEventListener('mousemove', drag);
                document.addEventListener('touchmove', drag, { passive: false });
                document.addEventListener('mouseup', endDrag);
                document.addEventListener('touchend', endDrag);
            }

            function drag(e) {
                if (!currentCard) return;
                
                const touch = e.type === 'touchmove' ? e.touches[0] : e;
                const moveX = Math.abs(touch.clientX - startX);
                const moveY = Math.abs(touch.clientY - startY);
                
                if (moveX > 5 || moveY > 5) {
                    isDragging = true;
                    currentCard.classList.add('dragging');
                    
                    const containerRect = container.getBoundingClientRect();
                    const x = touch.clientX - containerRect.left;
                    const y = touch.clientY - containerRect.top;
                    
                    currentCard.style.left = x + 'px';
                    currentCard.style.top = y + 'px';
                    
                    if (checkNearCenter(currentCard)) {
                        currentCard.classList.add('near-center');
                    } else {
                        currentCard.classList.remove('near-center');
                    }
                }
            }

            function endDrag(e) {
                if (currentCard) {
                    currentCard.classList.remove('dragging');
                    
                    if (isDragging && checkNearCenter(currentCard)) {
                        currentCard.classList.remove('near-center');
                        handleSelection(currentCard);
                    } else {
                        currentCard.classList.remove('near-center');
                        const currentLeft = parseInt(currentCard.style.left);
                        const currentTop = parseInt(currentCard.style.top);
                        currentCard.dataset.originalX = currentLeft;
                        currentCard.dataset.originalY = currentTop;
                    }
                }
                
                setTimeout(() => {
                    isDragging = false;
                    currentCard = null;
                }, 100);

                document.removeEventListener('mousemove', drag);
                document.removeEventListener('touchmove', drag);
                document.removeEventListener('mouseup', endDrag);
                document.removeEventListener('touchend', endDrag);
            }
        }
    </script>

</body>
</html>
